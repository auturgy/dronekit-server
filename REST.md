
# Drone API

This is a sketch of the REST API for drone operations.  For the actual API documentation see the autogenerated swagger docs.

## /user

GET /user/<id>/<property>

where property is:
* vehicles - returns a JSON array of vehicle IDs for this user (eventually support query params for filtering)

## /vehicle

GET /vehicle/<id>/<property>

where property is:
* missions - returns a JSON array of mission IDs for this vehicle (eventually support query params for filtering)

POST /vehicle/<id>/missions - create a new mission, payload is expected to be a tlog, log or bog

## /mission

GET /mission/<id>/<property>

where property is:
* mode
* location
* messages.tlog (raw tlog data)
* messages.json (a json encoding of messages)
* messages.kmz
* messages.gmaps.kmz (kmz but obeying the limits associated with gmaps) (FIXME - store in local DB?)
* messages.jpg (a jpg thumbnail view of the flight)

# TODO

* add tlog upload
* deploy to 3dr server
* turn on exception notification via pushover or bugsense or takipi
* change droneshare to be entirely a javascript app
* make mission API work with live flights also

* check for user perms/roles per servlet API: get("/foo", request.getRemoteUser == "admin") {...}

* Use UI browser at http://swagger.wordnik.com/
* Add API key support
* Make the API actually do something
* Add auth support - see example http://petstore.swagger.wordnik.com/api/api-docs
